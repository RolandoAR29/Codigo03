<h4>Formularios <small> reactive</small></h4>
<hr>
<form autocomplete="off" [formGroup]="formulario" (ngSubmit)="guardar()">
    <div>
        <div class="form-group row">
            <label class="col-2 col-form-label">Nombre</label>
            <div class="col">
                <input type="text"
                        class="form-control"
                        placeholder="Nombre"
                        [class.is-invalid]="nombreNoValido"
                        formControlName="nombre" 
                        >
                <small *ngIf="nombreNoValido"
                        class="form-text text-danger">Dato debe contener mínimo 5 letras</small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Apellido</label>
            <div class="col">

                <input type="text"
                        class="form-control"
                        placeholder="Apellido"
                        [class.is-invalid]="apellidoNoValido"
                        formControlName="apellido"
                        >
                <small *ngIf="apellidoNoValido"
                        class="form-text text-danger">Dato debe contener mínimo 5 letras</small>
            </div>
        </div>


        <div class="form-group row">
            <label class="col-2 col-form-label">Correo</label>
            <div class="col">

                <input type="email"
                        class="form-control"
                        placeholder="Correo electrónico"
                        [class.is-invalid]="correoNoValido"
                        formControlName="correo"
                        >
                <small *ngIf="correoNoValido"
                        class="form-text text-danger">El correo no contiene el formato adecuado</small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Usuario</label>
            <div class="col">

                <input type="email"
                        class="form-control"
                        placeholder="Usuario"
                        [class.is-invalid]="usuarioNoValido"
                        formControlName="usuario"
                        >
                <small *ngIf="usuarioNoValido"
                        class="form-text text-danger">El usuario está tomado</small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Contraseña</label>
            <div class="col">

                <input type="password"
                        class="form-control"
                        placeholder="Contraseña"
                        formControlName="pass1"
                        [class.is-invalid]="pass1NoValido"
                        >

            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Repita contraseña</label>
            <div class="col">

                <input type="password"
                        class="form-control"
                        placeholder="Repita contraseña"
                        formControlName="pass2"
                        [class.is-invalid]="pass2NoValido"
                        >

            </div>
        </div>
            


        <div class="form-group row" formGroupName="direccion">
            <label class="col-2 col-form-label">Dirección</label>
            <div class="form-row col">
                <input type="text"
                        class="form-control"
                        placeholder="Distrito"
                        [class.is-invalid]="distritoNoValido"
                        formControlName="distrito"
                        >
            </div>

            <div class="col">
                <input type="text"
                        class="form-control"
                        placeholder="Ciudad"
                        [class.is-invalid]="ciudadNoValido"
                        formControlName="ciudad"
                        >
            </div>
        </div>

        <div class="row">
            <div class="col">
                <table class="table">
                    <thead class="thead-dark">
                        <tr>
                            <th>ID</th>
                            <th>Pasatiempo</th>
                            <th>Borrar</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="pasatiempos">
                        <tr *ngFor="let control of pasatiempos.controls; let i = index">
                            <td>{{ i + 1 }}</td>
                            <td>
                                <input class="form-control"
                                        type="text"
                                        [formControlName]="i"
                                >
                            </td>
                            <td>
                                <button class="btn btn-danger"
                                        type="button"
                                        (click)="borrarPasatiempo(i)">
                                    Borrar
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <button class="btn btn-primary mb-5 btn-block"
                        type="button"
                        (click)="agregarPasatiempo()">
                    Agregar
                </button>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">&nbsp;</label>
            <div class="input-group col-md">
                <button type="submit" class="btn btn-outline-primary btn-block">
                    Guardar
                </button>
            </div>
        </div>

    </div>
</form>


<hr>
<pre>
Estado del formulario: {{ formulario.valid }}
<br>
Status: {{ formulario.status }}
</pre>

<pre>
{{ formulario.value | json }}
</pre>